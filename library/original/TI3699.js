s=7500,length=7500*4,t||(ltsm=[0,0,0],hltsm=[0,0],echorev=Array(length).fill(0)),clip=x=>atan(x),clamp=(x,y)=>min(max(x,-y),y),lowp=(w,x,y)=>(ltsm[w]+=(x-ltsm[w])*y,ltsm[w]),higp=(w,x,y)=>(hltsm[w]+=(x-hltsm[w])*y,x-hltsm[w]),rvb=(i,length,f)=>(echorev[t%length]+=i,echorev[t%length]*=f,echorev[t%length]),saw=x=>clip(tan(x)),tet12=x=>pow(2,x/12),gate=(x,y,z)=>x?y:z,chrdv1=[0,-3,4,2],chrdv2=[4,0,7,5],mel=[[0,4,7,0],[-3,4,7,-3],[4,7,11,4],[4,7,11,4]],ldr=[4,4,4,2],dtbls=[[1,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,1],[2,1,2,[4,2][t/s%2|0]]],chrd=saw(tet12(chrdv1[t/16/s%4|0])*t/140)*.2+saw(tet12(chrdv2[t/16/s%4|0])*t/140)*.2,mlb=saw(tet12(mel[t/16/s%4|0][t/2/s%4|0])*t*2/140)*.2,kk=sin(4/((t/4/s%1)+.075))*16*exp(-t/4/s%1/.1)*dtbls[0][t/1/s%8|0],snk=sin(4/((t/s%1)+.095))*4*exp(-t/s%1/.1),snn=lowp(2,sin(sin(t*1e32)*1e8),.2)*exp(-t/s%1/.2),sn=(snk*2+snn*4)*dtbls[1][t/s%8|0],hh=higp(0,sin(sin(t*1e32)*1e8),.8)*exp(-t*dtbls[2][t/2/s%4|0]/s%1/.07),ld=sign(sin((t+4/((t/4/s%2)+.01)*6)*tet12(ldr[t/16/s%4|0])*4/140))*exp(-t/4/s%1/.7)+sign(sin((t+4/((t/4/s%2)+.01)*6)*tet12(5)*tet12(ldr[t/16/s%4|0])*4/140))*exp(-t/4/s%1/.7),(clamp(lowp(0,chrd,exp(-t/s%1/.2))*exp(t/s%4/2.5)*.2,.3)+rvb(lowp(1,mlb,exp(-t/s%2/.4)),length,.7))*.7+gate(t/s>64,(clip(kk)*.3+clip(sn)*.3+hh)*.95,0)+gate(t/s>128,higp(1,ld*.2,exp(-t/2/s%8/.8)),0)